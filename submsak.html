<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>子網判斷器</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f4; }
  input { padding: 5px; margin: 5px 0; width: 200px; }
  button { padding: 5px 10px; }
  #result { margin-top: 10px; font-weight: bold; }
</style>
</head>
<body>
<h2>IP 子網判斷器</h2>

<label>IP1：</label><br>
<input type="text" id="ip1" placeholder="例如 192.168.1.10"><br>

<label>IP2：</label><br>
<input type="text" id="ip2" placeholder="例如 192.168.1.200"><br>

<label>Subnet Mask：</label><br>
<input type="text" id="mask" placeholder="例如 255.255.255.0"><br>

<button onclick="checkSubnet()">判斷是否同一子網路</button>

<div id="result"></div>

<script>
function ipToInt(ip) {
    return ip.split('.').reduce((acc, octet) => (acc << 8) + parseInt(octet), 0) >>> 0;
}

function checkSubnet() {
    const ip1 = document.getElementById('ip1').value.trim();
    const ip2 = document.getElementById('ip2').value.trim();
    const mask = document.getElementById('mask').value.trim();

    if (!ip1 || !ip2 || !mask) {
        document.getElementById('result').textContent = "請輸入完整 IP 和子網路遮罩";
        return;
    }

    try {
        const net1 = ipToInt(ip1) & ipToInt(mask);
        const net2 = ipToInt(ip2) & ipToInt(mask);

        if (net1 === net2) {
            document.getElementById('result').textContent = "? 兩個 IP 在同一子網路";
        } else {
            document.getElementById('result').textContent = "? 兩個 IP 不在同一子網路";
        }
    } catch (e) {
        document.getElementById('result').textContent = "IP 或 Mask 格式錯誤";
    }
}
</script>
</body>
</html>